<main class="flex-grow-1">
  <div class="flex-center-between">
    <div>
      Round: <span class="points">{{ earnedPoints$ | async }}</span>
    </div>
    <div>
      Total Score: <span class="points">{{ score$ | async }}</span>
    </div>
    <div>
      Potential: <span class="points">{{ potentialPoints$ | async }}</span>
    </div>
  </div>

  <div class="flex-center hori-scroll answers-container">
    @for (answer of answers$ | async; track answer.word) {
      <div
        class="flex-center word"
        [id]="answer.word"
      >
        @for (letter of answer.letters; track $index) {
          <span class="letter">
            {{ answer.state === "not-found" ? "_" : letter }}
          </span>
        }
      </div>
    }
  </div>

  <div class="flex-center-center letter-button-container">
    @for (letter of clickedLetters$ | async; track letter.value) {
      <button
        mat-raised-button
        (click)="clickLetter(letter)"
      >
        {{ letter.value }}
      </button>
    }
  </div>

  <div class="flex-center-center letter-button-container">
    @for (letter of clickableLetters$ | async; track letter.value) {
      <button
        mat-raised-button
        (click)="clickLetter(letter)"
      >
        {{ letter.value }}
      </button>
    }
  </div>

  @if ({ isComplete: isGameComplete$ | async }; as vm) {
    <div class="flex-center-end">
      <button 
        mat-raised-button 
        [color]="vm.isComplete ? 'accent' : 'primary'"
        (click)="clickEnter(!!vm.isComplete)"
      >
        @if (vm.isComplete) {
          <mat-icon>refresh</mat-icon>
        } @else {
          <mat-icon>send</mat-icon>
        }
        {{ vm.isComplete ? 'Start New Game' : 'Enter' }}
      </button>
    </div>
  }
</main>
